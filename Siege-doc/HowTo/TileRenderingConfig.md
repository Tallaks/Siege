# Установка изображений для тайлов
Для текущей версии игры тайлы отрисовываются при помощи специального написанного при помощи Shader Graph шейдера. Чтобы заставить его работать, необходимо засунуть в специальный конфигурационный файл ряд картинок с изображениями тайлов с различным числом и расположением соседей.
## Принцип отрисовки тайлов
Так как даже для самого чернового варианта хочется получить красивую, "скругленную" группу тайлов, то каждая клетка рисуется по следующим правилам:
1) Тайл может быть полностью закрашенным, частично закрашенным, полностью пустым
2) Частично закрашенные тайлы имеют границы и/или уголки (от 1 до 4 по числу углов и сторон квадрата)
3) Частично закрашенный тайл всегда имеет более закрашенную площадь
4) Граница, получаемая при отрисовке группы тайлов или даже одного тайла, обязана быть замкнутой и циклической.
5) Тайлы, соседствующие друг с другом только по диагонали, не соприкасаются своими границами

Исходя из этих правил, мы получаем 15 комбинаций соседей одного тайла, при которых надо отрисовать определнным образом тайл:

![](assets/TileTemplates.png)

Остальные комбинации будут выдавать те же варианты отрисовки только повернутые на определнный угол или зеркально отраженные.

В случае возникновения требования программиста/дизайнера/визионера художнику требуется приготоваить 15 картинок, по одной на комбинацию.
## Файл конфигурации
Сам [файл](../../Siege-client/Assets/Resources/Configs/TileRules.asset) является ScriptableObject-ом класса [TileSpritesConfig](../../Siege-client/Assets/Scripts/Runtime/Infrastructure/Configs/TileSpritesConfig.cs). Внутри него при помощи Odin Inspector-а реализовано удобное офрмление данного файла внутри редактора:

![](assets/TileRules.png)

В нем в виде двух столбцов расположены изображения для конкретной комбинации тайла и его соседей (слева) и, собственно, место куда их надо вставлять.

**Важное:** для корректного отображения тайлов в игре необходимо вставлять изображения точно по изображениям темплейтов, чтобы границы и уголки соответствовали, иначе отрисовка будет некорректной!